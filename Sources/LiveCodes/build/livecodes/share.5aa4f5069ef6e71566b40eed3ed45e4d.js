var te=Object.create;var B=Object.defineProperty;var oe=Object.getOwnPropertyDescriptor;var re=Object.getOwnPropertyNames;var ne=Object.getPrototypeOf,se=Object.prototype.hasOwnProperty;var ce=(e,o)=>()=>(o||e((o={exports:{}}).exports,o),o.exports);var ae=(e,o,d,L)=>{if(o&&typeof o=="object"||typeof o=="function")for(let h of re(o))!se.call(e,h)&&h!==d&&B(e,h,{get:()=>o[h],enumerable:!(L=oe(o,h))||L.enumerable});return e};var ie=(e,o,d)=>(d=e!=null?te(ne(e)):{},ae(o||!e||!e.__esModule?B(d,"default",{value:e,enumerable:!0}):d,e));var Z=ce((lt,I)=>{var V=function(){var e=String.fromCharCode,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",L={};function h(t,s){if(!L[t]){L[t]={};for(var u=0;u<t.length;u++)L[t][t.charAt(u)]=u}return L[t][s]}var T={compressToBase64:function(t){if(t==null)return"";var s=T._compress(t,6,function(u){return o.charAt(u)});switch(s.length%4){default:case 0:return s;case 1:return s+"===";case 2:return s+"==";case 3:return s+"="}},decompressFromBase64:function(t){return t==null?"":t==""?null:T._decompress(t.length,32,function(s){return h(o,t.charAt(s))})},compressToUTF16:function(t){return t==null?"":T._compress(t,15,function(s){return e(s+32)})+" "},decompressFromUTF16:function(t){return t==null?"":t==""?null:T._decompress(t.length,16384,function(s){return t.charCodeAt(s)-32})},compressToUint8Array:function(t){for(var s=T.compress(t),u=new Uint8Array(s.length*2),c=0,a=s.length;c<a;c++){var g=s.charCodeAt(c);u[c*2]=g>>>8,u[c*2+1]=g%256}return u},decompressFromUint8Array:function(t){if(t==null)return T.decompress(t);for(var s=new Array(t.length/2),u=0,c=s.length;u<c;u++)s[u]=t[u*2]*256+t[u*2+1];var a=[];return s.forEach(function(g){a.push(e(g))}),T.decompress(a.join(""))},compressToEncodedURIComponent:function(t){return t==null?"":T._compress(t,6,function(s){return d.charAt(s)})},decompressFromEncodedURIComponent:function(t){return t==null?"":t==""?null:(t=t.replace(/ /g,"+"),T._decompress(t.length,32,function(s){return h(d,t.charAt(s))}))},compress:function(t){return T._compress(t,16,function(s){return e(s)})},_compress:function(t,s,u){if(t==null)return"";var c,a,g={},v={},w="",E="",y="",x=2,M=3,p=2,m=[],r=0,n=0,S;for(S=0;S<t.length;S+=1)if(w=t.charAt(S),Object.prototype.hasOwnProperty.call(g,w)||(g[w]=M++,v[w]=!0),E=y+w,Object.prototype.hasOwnProperty.call(g,E))y=E;else{if(Object.prototype.hasOwnProperty.call(v,y)){if(y.charCodeAt(0)<256){for(c=0;c<p;c++)r=r<<1,n==s-1?(n=0,m.push(u(r)),r=0):n++;for(a=y.charCodeAt(0),c=0;c<8;c++)r=r<<1|a&1,n==s-1?(n=0,m.push(u(r)),r=0):n++,a=a>>1}else{for(a=1,c=0;c<p;c++)r=r<<1|a,n==s-1?(n=0,m.push(u(r)),r=0):n++,a=0;for(a=y.charCodeAt(0),c=0;c<16;c++)r=r<<1|a&1,n==s-1?(n=0,m.push(u(r)),r=0):n++,a=a>>1}x--,x==0&&(x=Math.pow(2,p),p++),delete v[y]}else for(a=g[y],c=0;c<p;c++)r=r<<1|a&1,n==s-1?(n=0,m.push(u(r)),r=0):n++,a=a>>1;x--,x==0&&(x=Math.pow(2,p),p++),g[E]=M++,y=String(w)}if(y!==""){if(Object.prototype.hasOwnProperty.call(v,y)){if(y.charCodeAt(0)<256){for(c=0;c<p;c++)r=r<<1,n==s-1?(n=0,m.push(u(r)),r=0):n++;for(a=y.charCodeAt(0),c=0;c<8;c++)r=r<<1|a&1,n==s-1?(n=0,m.push(u(r)),r=0):n++,a=a>>1}else{for(a=1,c=0;c<p;c++)r=r<<1|a,n==s-1?(n=0,m.push(u(r)),r=0):n++,a=0;for(a=y.charCodeAt(0),c=0;c<16;c++)r=r<<1|a&1,n==s-1?(n=0,m.push(u(r)),r=0):n++,a=a>>1}x--,x==0&&(x=Math.pow(2,p),p++),delete v[y]}else for(a=g[y],c=0;c<p;c++)r=r<<1|a&1,n==s-1?(n=0,m.push(u(r)),r=0):n++,a=a>>1;x--,x==0&&(x=Math.pow(2,p),p++)}for(a=2,c=0;c<p;c++)r=r<<1|a&1,n==s-1?(n=0,m.push(u(r)),r=0):n++,a=a>>1;for(;;)if(r=r<<1,n==s-1){m.push(u(r));break}else n++;return m.join("")},decompress:function(t){return t==null?"":t==""?null:T._decompress(t.length,32768,function(s){return t.charCodeAt(s)})},_decompress:function(t,s,u){var c=[],a,g=4,v=4,w=3,E="",y=[],x,M,p,m,r,n,S,i={val:u(0),position:s,index:1};for(x=0;x<3;x+=1)c[x]=x;for(p=0,r=Math.pow(2,2),n=1;n!=r;)m=i.val&i.position,i.position>>=1,i.position==0&&(i.position=s,i.val=u(i.index++)),p|=(m>0?1:0)*n,n<<=1;switch(a=p){case 0:for(p=0,r=Math.pow(2,8),n=1;n!=r;)m=i.val&i.position,i.position>>=1,i.position==0&&(i.position=s,i.val=u(i.index++)),p|=(m>0?1:0)*n,n<<=1;S=e(p);break;case 1:for(p=0,r=Math.pow(2,16),n=1;n!=r;)m=i.val&i.position,i.position>>=1,i.position==0&&(i.position=s,i.val=u(i.index++)),p|=(m>0?1:0)*n,n<<=1;S=e(p);break;case 2:return""}for(c[3]=S,M=S,y.push(S);;){if(i.index>t)return"";for(p=0,r=Math.pow(2,w),n=1;n!=r;)m=i.val&i.position,i.position>>=1,i.position==0&&(i.position=s,i.val=u(i.index++)),p|=(m>0?1:0)*n,n<<=1;switch(S=p){case 0:for(p=0,r=Math.pow(2,8),n=1;n!=r;)m=i.val&i.position,i.position>>=1,i.position==0&&(i.position=s,i.val=u(i.index++)),p|=(m>0?1:0)*n,n<<=1;c[v++]=e(p),S=v-1,g--;break;case 1:for(p=0,r=Math.pow(2,16),n=1;n!=r;)m=i.val&i.position,i.position>>=1,i.position==0&&(i.position=s,i.val=u(i.index++)),p|=(m>0?1:0)*n,n<<=1;c[v++]=e(p),S=v-1,g--;break;case 2:return y.join("")}if(g==0&&(g=Math.pow(2,w),w++),c[S])E=c[S];else if(S===v)E=M+M.charAt(0);else return null;y.push(E),c[v++]=M+E.charAt(0),g--,M=E,g==0&&(g=Math.pow(2,w),w++)}}};return T}();typeof define=="function"&&define.amd?define(function(){return V}):typeof I<"u"&&I!=null&&(I.exports=V)});var P='<div id="share-screen" class="modal-container"><div class="modal-title">Share</div><div class="modal-content"><div id="share-top-text" class="description light"><span id="share-permanent-url"><input id="share-permanent-url-checkbox" type="checkbox"><label for="share-permanent-url-checkbox">Permanent URL</label></span> <span id="share-click-to-copy"></span></div><input type="text" id="share-url-input" readonly><div id="share-expiry" class="share-expiry description light"><div class="share-short-url-expiry"><span>&nbsp;</span><a href="#">Get encoded URL</a></div><div class="share-encoded-url-expiry"><span class="{{warnClass}}">{{urlLength}} characters</span><a href="#">Get short URL</a></div></div><div id="share-expiry-self-hosted" class="share-expiry description light"><div class="share-short-url-expiry"><span class="danger">Expires in 1 year</span><a href="#">Get encoded URL</a></div><div class="share-encoded-url-expiry"><span class="{{warnClass}}">{{urlLength}} characters</span><a href="#">Get short URL</a></div></div><div id="share-links-container"><ul id="share-links"></ul><div id="qrcode-container">Generating...</div></div></div></div>';var pe=e=>e.replace(/{{APP_VERSION}}/g,"7").replace(/{{SDK_VERSION}}/g,"0.0.3").replace(/{{COMMIT_SHA}}/g,"4eaa0ef").replace(/{{REPO_URL}}/g,"https://github.com/live-codes/livecodes").replace(/{{DOCS_BASE_URL}}/g,"/docs/");var D=pe(P);var k=(e=location.origin)=>!!(e&&(e.endsWith("livecodes.io")||e.endsWith("livecodes.pages.dev")||e.endsWith("localpen.pages.dev")||e.startsWith("http://127.0.0.1")||e.startsWith("http://localhost")));var ue=e=>!e?.startsWith("http")&&!e?.startsWith("data:"),O=(e,o=document.baseURI)=>ue(e)?new URL(e,o).href:e;var $=e=>{if(document.queryCommandSupported&&document.queryCommandSupported("copy")){let o=document.createElement("textarea");o.textContent=e,o.style.position="fixed",document.body.appendChild(o),o.select();try{return document.execCommand("copy")}catch(d){return console.warn("Copy to clipboard failed.",d),!1}finally{document.body.removeChild(o)}}return!1};var C=(e,o)=>new Promise((d,L)=>{if(o&&globalThis[o])return d(globalThis[o]);if(typeof globalThis.importScripts=="function")return globalThis.importScripts(e),o&&globalThis[o]?d(globalThis[o]):d(globalThis);let h=document.createElement("script");h.src=e,h.async=!0;let T=()=>{h.removeEventListener("load",t),h.removeEventListener("error",s)},t=()=>{if(T(),!o)return d("loaded: "+e);let u=setInterval(()=>{if(window[o])return clearInterval(u),d(window[o])},5)},s=()=>{T(),L("failed to load: "+e)};h.addEventListener("load",t),h.addEventListener("error",s),document.head.appendChild(h)});var W=["jspm","skypack"],F=["unpkg","jsdelivr","fastly.jsdelivr"],K=["fastly.jsdelivr.gh","jsdelivr.gh","statically"],q={getModuleUrl:(e,{isModule:o=!0,defaultCDN:d="jspm"}={})=>{e=e.replace(/#nobundle/g,"");let L=N(e,o,d);return L||(o?"https://jspm.dev/"+e:"https://cdn.jsdelivr.net/npm/"+e)},getUrl:(e,o)=>e.startsWith("http")?e:N(e,!1,o||me())||e,cdnLists:{npm:F,module:W,gh:K},checkCDNs:async(e,o)=>{let d=[o,...q.cdnLists.npm].filter(Boolean);for(let L of d)try{if((await fetch(q.getUrl(e,L),{method:"HEAD"})).ok)return L}catch{}return q.cdnLists.npm[0]}},me=()=>{if(globalThis.appCDN)return globalThis.appCDN;try{return new URL(location.href).searchParams.get("appCDN")||q.cdnLists.npm[0]}catch{return q.cdnLists.npm[0]}},N=(e,o,d)=>{let L=o&&e.startsWith("unpkg:")?"?module":"";e.startsWith("gh:")?e=e.replace("gh",K[0]):e.includes(":")||(e=(d||(o?W[0]:F[0]))+":"+e);for(let h of de){let[T,t]=h;if(T.test(e))return e.replace(T,t)+L}return null},de=[[/^(jspm:)(.+)/i,"https://jspm.dev/$2"],[/^(npm:)(.+)/i,"https://jspm.dev/$2"],[/^(node:)(.+)/i,"https://jspm.dev/$2"],[/^(skypack:)(.+)/i,"https://cdn.skypack.dev/$2"],[/^(jsdelivr:)(.+)/i,"https://cdn.jsdelivr.net/npm/$2"],[/^(fastly.jsdelivr:)(.+)/i,"https://fastly.jsdelivr.net/npm/$2"],[/^(jsdelivr.gh:)(.+)/i,"https://cdn.jsdelivr.net/gh/$2"],[/^(fastly.jsdelivr.gh:)(.+)/i,"https://fastly.jsdelivr.net/gh/$2"],[/^(statically:)(.+)/i,"https://cdn.statically.io/gh/$2"],[/^(esm.run:)(.+)/i,"https://esm.run/$2"],[/^(esm.sh:)(.+)/i,"https://esm.sh/$2"],[/^(esbuild:)(.+)/i,"https://esbuild.vercel.app/$2"],[/^(bundle.run:)(.+)/i,"https://bundle.run/$2"],[/^(unpkg:)(.+)/i,"https://unpkg.com/$2"],[/^(bundlejs:)(.+)/i,"https://deno.bundlejs.com/?file&q=$2"],[/^(bundle:)(.+)/i,"https://deno.bundlejs.com/?file&q=$2"],[/^(deno:)(.+)/i,"https://deno.bundlejs.com/?file&q=https://deno.land/x/$2/mod.ts"],[/^(https:\/\/deno\.land\/.+)/i,"https://deno.bundlejs.com/?file&q=$1"],[/^(github:|https:\/\/github\.com\/)(.[^\/]+?)\/(.[^\/]+?)\/(?!releases\/)(?:(?:blob|raw)\/)?(.+?\/.+)/i,"https://deno.bundlejs.com/?file&q=https://cdn.jsdelivr.net/gh/$2/$3@$4"],[/^(gist\.github:)(.+?\/[0-9a-f]+\/raw\/(?:[0-9a-f]+\/)?.+)$/i,"https://gist.githack.com/$2"],[/^(gitlab:|https:\/\/gitlab\.com\/)([^\/]+.*\/[^\/]+)\/(?:raw|blob)\/(.+?)(?:\?.*)?$/i,"https://deno.bundlejs.com/?file&q=https://gl.githack.com/$2/raw/$3"],[/^(bitbucket:|https:\/\/bitbucket\.org\/)([^\/]+\/[^\/]+)\/(?:raw|src)\/(.+?)(?:\?.*)?$/i,"https://deno.bundlejs.com/?file&q=https://bb.githack.com/$2/raw/$3"],[/^(bitbucket:)snippets\/([^\/]+\/[^\/]+)\/revisions\/([^\/\#\?]+)(?:\?[^#]*)?(?:\#file-(.+?))$/i,"https://bb.githack.com/!api/2.0/snippets/$2/$3/files/$4"],[/^(bitbucket:)snippets\/([^\/]+\/[^\/\#\?]+)(?:\?[^#]*)?(?:\#file-(.+?))$/i,"https://bb.githack.com/!api/2.0/snippets/$2/HEAD/files/$3"],[/^(bitbucket:)\!api\/2.0\/snippets\/([^\/]+\/[^\/]+\/[^\/]+)\/files\/(.+?)(?:\?.*)?$/i,"https://bb.githack.com/!api/2.0/snippets/$2/files/$3"],[/^(api\.bitbucket:)2.0\/snippets\/([^\/]+\/[^\/]+\/[^\/]+)\/files\/(.+?)(?:\?.*)?$/i,"https://bb.githack.com/!api/2.0/snippets/$2/files/$3"],[/^(rawgit:)(.+?\/[0-9a-f]+\/raw\/(?:[0-9a-f]+\/)?.+)$/i,"https://gist.githack.com/$2"],[/^(rawgit:|https:\/\/raw\.githubusercontent\.com)(\/[^\/]+\/[^\/]+|[0-9A-Za-z-]+\/[0-9a-f]+\/raw)\/(.+)/i,"https://deno.bundlejs.com/?file&q=https://raw.githack.com/$2/$3"]];var{getUrl:z,getModuleUrl:qe}=q;var ge="0.6.64",je=z(`malinajs@${ge}/malina.js`);var J=z("qrcode-generator@1.4.4/qrcode.js");var R=ie(Z());var Q="https://dpaste.com/",ye="https://dpaste.com/api/v2/",X="https://api2.livecodes.io/share",Y={getProject:async e=>{try{let o=await fetch(Q+e+".txt");return o.ok?JSON.parse(await o.text()):{}}catch{return{}}},shareProject:async e=>{try{let o=await fetch(ye,{method:"POST",mode:"cors",headers:{"Content-Type":"application/x-www-form-urlencoded","User-Agent":"LiveCodes / https://livecodes.io/"},body:`content=${encodeURIComponent(JSON.stringify(e))}&title=${encodeURIComponent(e.title||"")}&syntax=json&expiry_days=365`});return o.ok?(await o.text()).replace(Q,""):""}catch{return""}}},he={getProject:async e=>{if(e.length<11)return Y.getProject(e);if(!k())return{};try{let o=await fetch(X+"?id="+e);return o.ok?JSON.parse(await o.text()):{}}catch{return{}}},shareProject:async e=>{if(!k())return"";try{let o=await fetch(X,{method:"POST",mode:"cors",body:JSON.stringify(e)});return o.ok?o.text():""}catch{return""}}},Pt=k()?he:Y;var _=()=>document.querySelector("#qrcode-container");var b=encodeURIComponent,ro=async(e,o,d)=>{let L,h=l=>{(!l||!$(l))&&S("Copy to clipboard failed!"),S("URL copied to clipboard"),L=setTimeout(()=>{S("Click to copy")},5e3)},T=async()=>{let l=_();if(y.style.visibility="hidden",l.style.display="flex",v){m?.classList.add("short-url"),p&&g&&(p.value=g.url);return}await i();let U=(await C(J,"qrcode"))(0,"L");U.addData(g.url),U.make(),v=U.createImgTag(6,10),l.innerHTML=v},t=(l,f,A)=>{A&&(A.innerHTML="",f.forEach(H=>{let U=document.createElement("li"),j=document.createElement("a");j.href=H.createShareUrl?.(l)||"#",j.target="blank",j.rel="noopener noreferrer",j.innerHTML=`
        <span class="share-image-container">
          <img
            src="${O(o)+"assets/icons/"+H.icon}"
            alt="${H.name}"
          />
        </span>
        ${H.name}
      `,H.onClick&&d.addEventListener(j,"click",async ee=>{ee.preventDefault(),H.onClick?.(l)}),U.appendChild(j),A.appendChild(U),H.name==="Share via \u2026"&&!navigator.share&&U.remove()}),p&&(p.value=l.url),S("Click to copy"))},s=[{name:"Facebook",icon:"facebook.svg",createShareUrl:({url:l})=>`https://www.facebook.com/sharer.php?u=${b(l)}`},{name:"Twitter",icon:"twitter.svg",createShareUrl:({url:l,title:f})=>`https://twitter.com/intent/tweet?url=${b(l)}&text=${b(f)}`},{name:"Hacker News",icon:"hacker-news.svg",createShareUrl:({url:l,title:f})=>`https://news.ycombinator.com/submitlink?u=${b(l)}&t=${b(f)}`},{name:"Reddit",icon:"reddit.svg",createShareUrl:({url:l,title:f})=>`https://www.reddit.com/submit?url=${b(l)}&title=${b(f)}`},{name:"LinkedIn",icon:"linkedin.svg",createShareUrl:({url:l,title:f})=>`https://www.linkedin.com/shareArticle?url=${b(l)}&title=${b(f)}&mini=true&source=LiveCodes`},{name:"Dev.to",icon:"dev.svg",createShareUrl:({url:l,title:f})=>`https://dev.to/new?prefill=${b(`---
title: `+f+`
published: true
tags: livecodes
---



`+l)}`},{name:"Tumblr",icon:"tumblr.svg",createShareUrl:({url:l,title:f})=>`
      https://www.tumblr.com/share/link?url=${b(l)}&name=${b(f)}`},{name:"Pinterest",icon:"pinterest.svg",createShareUrl:({url:l,title:f})=>`https://pinterest.com/pin/create/bookmarklet/?url=${b(l)}&description=${b(f)}`},{name:"WhatsApp",icon:"whatsapp.svg",createShareUrl:({url:l,title:f})=>`https://api.whatsapp.com/send?text=${b(f)} ${b(l)}`},{name:"Telegram",icon:"telegram.svg",createShareUrl:({url:l,title:f})=>`https://t.me/share/url?url=${b(l)}&text=${b(f)}`},{name:"Pocket",icon:"pocket.svg",createShareUrl:({url:l,title:f})=>`https://getpocket.com/save?url=${b(l)}&title=${b(f)}`},{name:"Email",icon:"email.svg",createShareUrl:({url:l,title:f})=>`mailto:?subject=${b(f)}&body=${b(l)}`},{name:"Copy URL",icon:"copy.svg",onClick:({url:l})=>h(l)},{name:"QR code",icon:"qr-code.svg",onClick:T},{name:"Share via \u2026",icon:"share.svg",onClick:({url:l,title:f})=>navigator.share({url:l,title:f})}],u=!k(),c=document.createElement("div"),a=await e(!1,!1),g,v,w=a.url.length;c.innerHTML=D.replace(/{{urlLength}}/g,String(w)).replace(/{{warnClass}}/g,w>2048?"danger":"warn");let E=c.firstChild;u?E.querySelector("#share-expiry").outerHTML="":E.querySelector("#share-expiry-self-hosted").outerHTML="";let y=E.querySelector("#share-links"),x=E.querySelector("#share-permanent-url-checkbox"),M=E.querySelector("#share-click-to-copy"),p=E.querySelector("#share-url-input"),m=E.querySelector(".share-expiry"),r=m?.querySelector(".share-encoded-url-expiry a"),n=m?.querySelector(".share-short-url-expiry a"),S=l=>{M&&(clearTimeout(L),M.innerHTML=l)};t(a,s,y);let i=async l=>{l?.preventDefault(),S("Generating URL \u2026");try{g=g||await e(!0,x.checked),t(g,s,y),m?.classList.add("short-url")}catch{S("Failed to generate short URL!")}};return d.addEventListener(r,"click",i),d.addEventListener(n,"click",l=>{l.preventDefault(),t(a,s,y),m?.classList.remove("short-url");let f=_();f.style.display="none",y.style.visibility="visible"}),d.addEventListener(x,"change",async()=>{a=await e(!1,x.checked),g&&(g=await e(!0,x.checked));let l=m?.classList.contains("short-url")?g:a;t(l,s,y)}),d.addEventListener(p,"click",function(){h(p?.value),p?.select()}),d.addEventListener(M,"click",function(){h(p?.value),p?.select()}),E};export{ro as createShareContainer};
